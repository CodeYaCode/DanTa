<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.snda.cloud.virtulization.resource.dao.IOuterIpDao">
	<resultMap id="outerIp" type="outerIp">
		<result property="ip" column="IP" />
		<result property="userId" column="USER_ID" />
		<result property="netType" column="NET_TYPE" />
		<result property="available" column="AVAILABLE" />
		<result property="data1" column="DATA1" />
		<result property="data2" column="DATA2" />
		<result property="data3" column="DATA3" />
		<result property="count" column="COUNT" />
	</resultMap>
	
	<select id="selectOuterIpCount" parameterType="outerIp" resultType="int">
		SELECT
			COUNT(*) AS COUNT
		FROM
			OUTER_IP
		WHERE
			1 = 1
		<if test="netType != null">
		AND
			NET_TYPE = #{netType}
		</if>
		<if test="available != null">
		AND
			AVAILABLE = #{available}
		</if>
		<if test="userId != null">
		AND
			USER_ID = #{userId}
		</if>
		<if test="hasUserId != null">
		AND
			USER_ID != '';
		</if>
	</select>
</mapper>